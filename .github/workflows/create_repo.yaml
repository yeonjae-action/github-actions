name: create-repo
on:
    workflow_dispatch:
        inputs:
            prefix:
                description: 'set repo prefix'
                required: true
                default: 'service'
                type: choice
                options:
                    - example
                    - service
            name:
                description: 'set repo name'
                required: true
                default: 'github-action'
                type: string

jobs:
    create-repo-automation:
        runs-on: ubuntu-latest
        steps:
            - name: gh auth login # 깃헙 권한 사용할 수 있도록 권한 받아옴
              run: |
                  echo ${{ secrets.PERSONAL_ACCESS_TOKEN }} | gh auth login --with-token
            - name: create-repo # 퍼블릭 레포 생성
              run: |
                  gh repo create yeonjae-action/${{ inputs.prefix }}-${{ inputs.name }} --public --add-readme
